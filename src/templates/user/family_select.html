<!-- /src/templates/user/profiles_list.html -->
<!doctype html><html lang="ja"><head><meta charset="utf-8"><title>プロフィール一覧</title></head>
<body>
  <h1>家族のプロフィール</h1>
  <p><a href="/members/new/">＋ プロフィールを追加</a></p>
  <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;">
    {% for m in members %}
      <div style="border:1px solid #ddd;border-radius:8px;padding:12px;">
        <div><strong>{{ m.display_name }}</strong> <small>({{ m.role }})</small></div>
        {% if m.nickname %}<div>Nickname: {{ m.nickname }}</div>{% endif %}
        {% if m.avatar_url %}<div><img src="{{ m.avatar_url }}" alt="" style="max-width:100%;height:auto"></div>{% endif %}
        <p>
          <a href="/profiles/{{ m.id }}/enter/">このプロフィールで入室</a> |
          <a href="/members/{{ m.id }}/edit/">編集</a> |
          <a href="/members/{{ m.id }}/delete/">削除</a>
        </p>
      </div>
    {% empty %}
      <p>プロフィールがありません。まず追加してください。</p>
    {% endfor %}
  </div>
  <hr>
  <p><a href="/invite/create/">招待コードを発行する</a></p>
  {% for m in messages %}<p style="color:red">{{ m }}</p>{% endfor %}
</body></html>
